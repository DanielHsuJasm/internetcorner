<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InternetCorner - æ•¸ä½å›æ†¶æ›¸</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Canvas æ˜Ÿç©ºèƒŒæ™¯ -->
    <canvas id="star-canvas"></canvas>

    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- ç¶²ç«™æ¨™é¡Œ -->
        <div class="site-title">
            <h1>InternetCorner</h1>
            <p>æˆ‘çš„æ•¸ä½å›æ†¶æ”¶è—</p>
        </div>

        <!-- èª¿è©¦ä¿¡æ¯ -->
        <div style="position: fixed; top: 10px; left: 10px; background: rgba(0,0,0,0.7); color: white; padding: 10px; border-radius: 5px; font-size: 12px; z-index: 9999;">
            æ›¸ç±¤ç¸½æ•¸: {{ bookmarks|length }}
            {% for bookmark in bookmarks %}
            <br>{{ loop.index }}: {{ bookmark.title }}
            {% endfor %}
        </div>

        <!-- æ›¸æœ¬å®¹å™¨ï¼ˆç¢ºä¿åªæœ‰ä¸€å€‹ï¼‰ -->
        <div class="book-container">
            <!-- æ›¸æœ¬æœ¬é«” -->
            <div class="book">
                <div class="book-cover">
                    <h2>æ•¸ä½å›æ†¶æ›¸</h2>
                    <p class="subtitle">Digital Memory Book</p>
                    <div class="book-decoration">
                        <div class="golden-line"></div>
                        <div class="corner-ornament">âœ¦</div>
                    </div>
                </div>
            </div>

            <!-- æ›¸ç±¤å®¹å™¨ï¼ˆéš±è—åœ¨æ›¸æœ¬å…§éƒ¨ï¼‰ -->
            <div class="bookmarks-container">
                {% for bookmark in bookmarks %}
                <div class="bookmark bookmark-debug-{{ loop.index }}" 
                     data-bookmark-id="{{ bookmark.id }}"
                     data-enabled="{{ bookmark.enabled|lower }}"
                     data-debug-index="{{ loop.index }}"
                     {% if bookmark.enabled %}
                     data-route="{{ url_for(bookmark.route) }}"
                     {% else %}
                     data-title="{{ bookmark.title|e }}"
                     {% endif %}
                     style="border: 2px solid red; /* èª¿è©¦é‚Šæ¡† */">
                    <div class="bookmark-tab bookmark-color-{{ loop.index }}" 
                         style="position: relative;">
                        <div class="bookmark-icon">{{ bookmark.icon }}</div>
                        <div class="bookmark-text">
                            <div class="bookmark-title">{{ bookmark.title }}</div>
                            <div class="bookmark-date">{{ bookmark.date }}</div>
                        </div>
                        {% if not bookmark.enabled %}
                        <div class="coming-soon-badge">æ•¬è«‹æœŸå¾…</div>
                        {% endif %}
                        <!-- èª¿è©¦æ¨™ç±¤ -->
                        <div style="position: absolute; top: -15px; left: 5px; background: yellow; color: black; font-size: 10px; padding: 2px;">
                            #{{ loop.index }}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- ç‰ˆæœ¬è³‡è¨Š -->
        <div class="version-info">
            <p>Version 1.0.0 - Built with â¤ï¸</p>
        </div>
    </div>

    <!-- å³å°‡æ¨å‡ºæç¤ºæ¡† -->
    <div id="coming-soon-modal" class="modal">
        <div class="modal-content">
            <div class="modal-icon">ğŸš§</div>
            <h3 id="feature-name">åŠŸèƒ½é–‹ç™¼ä¸­</h3>
            <p>é€™å€‹åŠŸèƒ½æ­£åœ¨åŠªåŠ›é–‹ç™¼ä¸­ï¼Œè«‹è€å¿ƒç­‰å¾…ï¼</p>
            <div class="modal-buttons">
                <button onclick="closeComingSoonModal()">å¥½çš„</button>
            </div>
        </div>
    </div>

    <!-- è¼‰å…¥è…³æœ¬ -->
    <script src="{{ url_for('static', filename='js/star-background.js') }}"></script>
    <script src="{{ url_for('static', filename='js/home.js') }}"></script>
    
    <!-- èª¿è©¦è…³æœ¬ -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ” èª¿è©¦ä¿¡æ¯:');
            console.log('æ›¸ç±¤ç¸½æ•¸:', document.querySelectorAll('.bookmark').length);
            
            document.querySelectorAll('.bookmark').forEach((bookmark, index) => {
                const title = bookmark.querySelector('.bookmark-title')?.textContent;
                const id = bookmark.dataset.bookmarkId;
                const colorClass = bookmark.querySelector('.bookmark-tab')?.className;
                console.log(`æ›¸ç±¤ ${index + 1}: ${title} (${id}) - ${colorClass}`);
            });
        });
    </script>
</body>
</html>